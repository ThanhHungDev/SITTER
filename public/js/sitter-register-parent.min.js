function checkHyphen(e){return e.indexOf("-")>=0}$(document).ready(function(){$(".upload-info").click(function(){let e=$(this).attr("data-name");$('input[name="'+e+'"]').trigger("click")}),$('input[data-type="upload"]').change(function(e){var i=e.target,t=$(this);if($(".validate-image").text(""),i.files&&i.files[0]){var n=i.files[0];!function(e,i,t){var n=["image/gif","image/png","image/jpg","image/jpeg"];if(console.log(i),console.log(e),i!=n[0]&&i!=n[1]&&i!=n[2]&&i!=n[3])return $(".validate-image").text("サポートされていないファイル"),void $(t).val("");var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){var i=$(t).attr("name"),n="div[data-name='"+i+"'";$(n).css("background","unset");var a='<img class="load-image" src="'+e.target.result+'" alt="">';a&&$(n).html(a)}}(n,n.type,t)}}),$("#sitter-register-parent").validate({onfocusout:function(e){$(e).valid()},invalidHandler:function(){$(this).find(".form-validate .error:first").focus()},rules:{type_upload:"required",input_file_front:{required:!0,accept:"image/jpg,image/jpeg,image/png,image/gif"},input_file_back:{required:!0,accept:"image/jpg,image/jpeg,image/png,image/gif"},input_file_qualifi:{accept:"image/jpg,image/jpeg,image/png,image/gif",required:!0},check_accept:"required","skills[]":"required","experiences[]":"required",contact_name:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},contact_address:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},contact_phone:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:10,maxlength:11,checkHyphen:!0},contact_relationship:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255}},messages:{type_upload:{required:"本人確認書類を選択して下さい。"},input_file_front:{required:"画像を選択して下さい。",accept:"ファイル形式が異なります。"},input_file_back:{required:"画像を選択して下さい。",accept:"ファイル形式が異なります。"},input_file_qualifi:{required:"画像を選択して下さい。",accept:"ファイル形式が異なります。"},"experiences[]":{required:"お持ちの資格を選択して下さい。"},"skills[]":{required:"サポートの項目は必須です"},check_accept:{required:"このフィールドは必須です"},contact_name:{required:"緊急連絡先お名前を入力して下さい。",minlength:"緊急連絡先お名前は1桁以上、255桁以下でなければなりません。",maxlength:"緊急連絡先お名前は1桁以上、255桁以下でなければなりません。"},contact_address:{required:"緊急連絡先住所を入力して下さい。",minlength:"緊急連絡先住所は1桁以上、255桁以下でなければなりません。",maxlength:"緊急連絡先住所は1桁以上、255桁以下でなければなりません。"},contact_phone:{required:"緊急連絡先電話番号を入力して下さい。",number:"緊急連絡先電話番号は数字を入力してください。",checkHyphen:"ハイフンは不要です",minlength:"電話番号は10桁以上、11桁以下でなければなりません。",maxlength:"電話番号は10桁以上、11桁以下でなければなりません。"},contact_relationship:{required:"緊急連絡先とのご関係を入力して下さい。",minlength:"緊急連絡先とのご関係は1桁以上、255桁以下でなければなりません。",maxlength:"緊急連絡先とのご関係は1桁以上、255桁以下でなければなりません。"},check_accept:{required:"登録には利用規約とプライバシーポリシーに同意していただく必要があります。"}},errorPlacement:function(e,i){(i=i.closest(".form-validate").find(".form-error")).html(""),e.appendTo(i)}})}),jQuery.validator.addMethod("checkHyphen",function(e){return!checkHyphen(e)}),$(document).on("blur","#contact-phone",function(){$(this).val(convertNumberJP($(this).val()))});
function getReviewSitter(t=1,e){$.ajax({method:"GET",url:ROUTE_LOAD_REVIEWS,data:{id:e,page:t,limit:LIMIT_RECORD_REVIEW}}).done(function(t){$(".body-review").html(t)})}$(document).ready(function(){getReviewSitter("",$('input[name="sitter"]').val())}),$(document).on("click",".rate-viewmore",function(t){let e=$(this).parent(),i=$(e).find(".rate-content");i.hasClass("rate-limit")?$(i).removeClass("rate-limit"):$(i).addClass("rate-limit")}),$(document).on("click",".pagination-review a",function(t){t.preventDefault();let e=$('input[name="sitter"]').val();getReviewSitter($(this).attr("href").split("page=")[1],e)}),$(".send-review").click(function(){$("#employer-post-review").toggle(),0==$(this).attr("data-active")?($(this).text("キャンセル"),$(this).attr("data-active","1")):($(this).text("レビューを書く"),$(this).attr("data-active","0")),$("#rate-star").rateit({min:1,max:5,step:1}),$("#rate-star").bind("rated",function(t){let e=$(this).rateit("value");$("#rate").val(e)}),$("#review-sitter").validate({onfocusout:function(t){$(t).valid()},invalidHandler:function(){$(this).find(".form-validate .error:first").focus()},ignore:!1,rules:{comment:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}}},rate:{checkRate:!0}},messages:{comment:{required:"この項目は必須です。"},rate:{checkRate:"この項目は必須です。"}},errorPlacement:function(t,e){(e=e.closest(".form-validate").find(".form-error")).html(""),t.appendTo(e)}})}),jQuery.validator.addMethod("checkRate",function(){return!!$("#rate").val()});
function check_birthday(){let e=$("#sl-box-year").val(),t=$("#sl-box-month").val(),n=$("#sl-box-day").val();if(""==e||""==t||""==n)return!0;{let i=new Date(e+"/"+t+"/ "+n);return i.getDate()==n&&Date.now()>i.getTime()}}function check_age(){let e=$("#sl-box-year").val(),t=$("#sl-box-month").val(),n=$("#sl-box-day").val();if(""==e||""==t||""==n)return!0;{let i=new Date(e+"/"+t+"/ "+n);if(i.getDate()!=n)return!1;let r=Date.now()-i.getTime(),a=new Date(r);return!(Math.abs(a.getUTCFullYear()-1970)<=13)}}function validate_email(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkHyphen(e){return e.indexOf("-")>=0}function checkLine1(){let e=$("#line1").val().trim();if(!e)return;let t=["0","1","2","3","4","5","6","7","8","9","-","０","１","２","３","４","５","６","７","８","９","ー"],n=e.split(""),i="";for(let e=0;e<n.length;e++){if(!t.includes(n[e]))return void $("#line1").val(i.trim());i+=n[e]}$("#line1").val(i.trim())}$(document).ready(function(){$("#sitter-register").validate({onfocusout:function(e){$(e).valid()},invalidHandler:function(){$(this).find(".form-validate .error:first").focus()},rules:{first_name:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},last_name:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},first_name_furigana:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255,checkKatakana:!0},last_name_furigana:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255,checkKatakana:!0},gender:"required",birth_year:{checkBirthDay:!0,required:!0,checkAge:!0},birth_month:{checkBirthDay:!0,required:!0,checkAge:!0},birth_day:{checkBirthDay:!0,required:!0,checkAge:!0},post_code:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:8},pref:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:100},town:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:100},address:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:100},line1:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}}},phone:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},checkHyphen:!0,number:!0,minlength:10,maxlength:11},email:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},emailValidate:!0},password:{required:!0,minlength:6,maxlength:32},confirm_password:{required:!0,minlength:6,maxlength:32,equalTo:"#password"},check_accept:{required:!0}},messages:{first_name:{required:"苗字を入力して下さい。",minlength:"苗字は1桁以上、255桁以下でなければなりません。",maxlength:"苗字は1桁以上、255桁以下でなければなりません。"},last_name:{required:"名前を入力して下さい。",minlength:"お名前（名）は1桁以上、255桁以下でなければなりません。",maxlength:"お名前（名）は1桁以上、255桁以下でなければなりません。"},first_name_furigana:{required:"苗字（フリガナ）を入力して下さい。",minlength:"苗字（フリガナ）は1桁以上、255桁以下でなければなりません。",maxlength:"苗字（フリガナ）は1桁以上、255桁以下でなければなりません。",checkKatakana:"このフィールドにはカタカナのみを使用してください。"},last_name_furigana:{required:"名前（フリガナ）を入力して下さい。",minlength:"名前（フリガナ）は1桁以上、255桁以下でなければなりません。",maxlength:"名前（フリガナ）は1桁以上、255桁以下でなければなりません。",checkKatakana:"このフィールドにはカタカナのみを使用してください。"},gender:{required:"性別を選択して下さい。"},birth_year:{checkBirthDay:"生年月日が不正です。",required:"年を入力して下さい",checkAge:"年齢は13歳以上である必要があります"},birth_month:{checkBirthDay:"生年月日が不正です。",required:"月を入力して下さい",checkAge:"年齢は13歳以上である必要があります"},birth_day:{checkBirthDay:"生年月日が不正です。",required:"日を入力して下さい",checkAge:"年齢は13歳以上である必要があります"},post_code:{required:"郵便番号を入力して下さい。",minlength:"郵便番号は1桁以上、255桁以下でなければなりません。",maxlength:"郵便番号は1桁以上、255桁以下でなければなりません。"},pref:{required:"都道府県を選択して下さい。"},town:{required:"市区町村を入力して下さい。"},address:{required:"町域を入力して下さい。"},line1:{required:"丁目以降を入力して下さい。"},phone:{required:"電話番号を入力して下さい。",checkHyphen:"ハイフンは不要です",number:"電話番号は数字を入力してください。",minlength:"電話番号は10桁以上、11桁以下でなければなりません。",maxlength:"電話番号は10桁以上、11桁以下でなければなりません。"},email:{required:"メールアドレスを入力して下さい。",emailValidate:"メールアドレスが不正です。"},password:{required:"パスワードを入力して下さい。",minlength:"パスワードは半角英数文字6文字以上にする必要があります。",maxlength:"パスワードは半角英数文字6文字以上にする必要があります。"},confirm_password:{required:"パスワード確認入力して下さい。",minlength:"パスワードは半角英数文字6文字以上にする必要があります。",maxlength:"パスワードは半角英数文字6文字以上にする必要があります。",equalTo:"パスワード確認はパスワードと一致しません。"},check_accept:{required:"登録には利用規約とプライバシーポリシーに同意していただく必要があります。"}},errorPlacement:function(e,t){(t=t.closest(".form-validate").find(".form-error")).html(""),e.appendTo(t)}})}),jQuery.validator.addMethod("checkBirthDay",function(){return check_birthday()}),jQuery.validator.addMethod("checkBirthDay",function(){return check_birthday()}),jQuery.validator.addMethod("checkAge",function(){return check_age()}),jQuery.validator.addMethod("emailValidate",function(e){return validate_email(e)}),jQuery.validator.addMethod("checkHyphen",function(e){return!checkHyphen(e)}),jQuery.validator.addMethod("checkKatakana",function(e){return wanakana.isKatakana(e)}),$("#btn-post-code").on("click",function(){$("#sl-box-pref").val(""),$("#inp-town").val(""),$("#inp-address").val(""),$("#pref-kana").val(""),$("#city-kana").val(""),$("#town-kana").val(""),$("#inp-post-code").change()}),$("#inp-post-code").jpostal({postcode:["#inp-post-code"],address:{"#sl-box-pref":"%3","#inp-town":"%4","#inp-address":"%5","#pref-kana":"%8","#city-kana":"%9","#town-kana":"%10"}}),$("#inp-post-code").focusout(function(){let e=$(this).val();e.length<=8?e.length>3&&e.indexOf("-")<0&&$(this).val(e.substr(0,3)+"-"+e.substr(3)):$(this).val(e.substr(0,8))}),$("#line2").focusout(function(){let e=$(this).val().trim();e.length>0&&$("#line2-kana").val(wanakana.toKatakana(e))}),$(document).on("blur","#reg-phone, #inp-post-code, #line1",function(){$(this).val(convertNumberJP($(this).val()))}),$("#line1").on("blur",function(){checkLine1()});